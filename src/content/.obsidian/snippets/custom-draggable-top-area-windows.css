/* --- knobs --- */
body:not(.is-mobile) {
  --drag-bump: 8px;           /* bump for notes */
  --controls-offset: 48px;    /* graph/canvas controls offset */
  --toolbar-right-offset: 130px; /* padding for base controls */
}

/* Draggable strip (leave OS window buttons untouched) */
body:not(.is-mobile) .titlebar {
  display: block !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  z-index: 10 !important;
  background: transparent !important;
  -webkit-app-region: drag !important;
}

/* Inline title editable */
body:not(.is-mobile) .inline-title {
  -webkit-app-region: no-drag !important;
  z-index: 11 !important;
  position: relative !important;
  margin-top: 0 !important; /* reset by default */
}

/* Note content default reset */
body:not(.is-mobile) .workspace-leaf-content[data-type="markdown"] .view-content,
body:not(.is-mobile) .workspace-leaf-content[data-type="markdown"] .cm-scroller,
body:not(.is-mobile) .workspace-leaf-content[data-type="markdown"] .markdown-preview-view {
  padding-top: 0 !important; /* reset by default */
}

/* Only apply bump when tab bar is hidden (body.hider-tabs present) */
body:not(.is-mobile).hider-tabs .workspace-leaf-content[data-type="markdown"] .inline-title {
  margin-top: var(--drag-bump) !important;
}
body:not(.is-mobile).hider-tabs .workspace-leaf-content[data-type="markdown"] .view-content,
body:not(.is-mobile).hider-tabs .workspace-leaf-content[data-type="markdown"] .cm-scroller,
body:not(.is-mobile).hider-tabs .workspace-leaf-content[data-type="markdown"] .markdown-preview-view {
  padding-top: var(--drag-bump) !important;
}

/* Graph & Canvas controls stay clear of window buttons (only when right sidebar is closed) */
body:not(.is-mobile) .workspace:not(.is-right-sidedock-open) .graph-controls { 
  top: var(--controls-offset) !important; 
}
body:not(.is-mobile) .workspace:not(.is-right-sidedock-open) .canvas-controls { 
  top: var(--controls-offset) !important; 
}

/* Push entire toolbar to the right of minimize/maximize/close (only when right sidebar is closed) */
body:not(.is-mobile) .workspace:not(.is-right-sidedock-open) .bases-toolbar {
  padding-right: var(--toolbar-right-offset) !important;
}