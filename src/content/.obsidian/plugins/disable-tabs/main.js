/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var r=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var l=Object.prototype.hasOwnProperty;var b=(a,e)=>{for(var t in e)r(a,t,{get:e[t],enumerable:!0})},g=(a,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h(e))!l.call(a,i)&&i!==t&&r(a,i,{get:()=>e[i],enumerable:!(s=f(e,i))||s.enumerable});return a};var d=a=>g(r({},"__esModule",{value:!0}),a);var T={};b(T,{default:()=>n});module.exports=d(T);var c=require("obsidian");var p={enabled:!0};var o=class{constructor(e){this.app=e}enforceSingleTab(){let e=[];if(this.app.workspace.iterateRootLeaves(t=>{e.push(t)}),e.length>1){let t=this.app.workspace.activeLeaf;t&&e.includes(t)?e.forEach(s=>{s!==t&&s.detach()}):e.slice(1).forEach(s=>s.detach())}}};var n=class extends c.Plugin{async onload(){this.settings=Object.assign({},p,await this.loadData()),this.tabEnforcer=new o(this.app),this.registerEvent(this.app.workspace.on("layout-change",()=>{this.settings.enabled&&this.tabEnforcer.enforceSingleTab()})),this.app.workspace.onLayoutReady(()=>{this.settings.enabled&&this.tabEnforcer.enforceSingleTab()})}async saveSettings(){await this.saveData(this.settings)}};
